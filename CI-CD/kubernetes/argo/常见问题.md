# 常见问题

## workflow 默认使用 root 账号？

workflow 的流程默认使用 root 账号，如果你的镜像默认使用非 root 账号，而且要修改文件，就很可能遇到 Permission Denined 的问题。

解决方法：通过 Pod Security Context 手动设定容器的 user/group:

- [Workflow Pod Security Context](https://argoproj.github.io/argo/workflow-pod-security-context/)


## 如何从 hashicorp vault 中读取 secrets?

参考 [Support to get secrets from Vault](https://github.com/argoproj/argo/issues/3267#issuecomment-650119636)

最推荐的方法，是使用 vault 的 vault-agent，将 secrets 以文件的形式注入到 pod 中。

通过 valut-policy - vault-role - k8s-serviceaccount 一系列认证授权配置，可以制定非常细粒度的 secrets 权限规则，而且配置信息阅后即焚，安全性很高。


